<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./style.css" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <title>Cadastro de Pessoas</title>
  </head>

  <header>
    <h1 class="titulo_header">CADASTRO DE PESSOAS</h1>
    <p></p>
    <h2 class="subtitulo_header">Insira seus dados abaixo:</h2>
  </header>
  <body>
    <form>
      <label for="nome">Nome:</label>
      <input
        id="nome"
        class="input"
        type="text"
        placeholder="Digite seu nome"
      />
      <label for="date">Data Nascimento:</label>
      <input id="data" class="input" type="date" />
      <label for="telefone">Telefone:</label>
      <input
        id="telefone"
        class="input"
        type="tel"
        placeholder="ex. (99)99999-9999"
      />
    </form>
    <div id="dados">

    </div>
    <button class="btn" onclick="btn()">Enviar</button>
  </body>
  <script>

    const btn = () => {
      const nome = document.getElementById("nome").value;
      console.log(nome);
      const dataNascimento = document.getElementById("data").value;
      console.log(dataNascimento);
      const telefone = document.getElementById("telefone").value;
      console.log(telefone);
      axios
        .post("http://localhost:3002/pessoas", {
          nome: nome,
          dataNascimento: dataNascimento,
          telefone: telefone,
        })
        .then(function (response) {
          console.log(response);
        })
        .catch(function (error) {
          console.log(error);
        });
    };

    axios.get("http://localhost:3002/pessoas").then((response) => {
        console.log(response)
        response.data.forEach(dado => {
            console.log(dado.nome)
            document.getElementById("dados").innerText = JSON.stringify(dado.nome)
        })
        
    });


    


  </script>
</html>
